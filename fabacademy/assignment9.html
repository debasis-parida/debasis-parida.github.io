<!doctype html>
<html class="no-js" lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Machine Design</title>
    <link href="css/foundation.css" rel="stylesheet" />
    <link href="css/header.css" rel="stylesheet" />
    <link href="css/icon-fonts.css" rel="stylesheet" />
    <link href="css/hover.css" rel="stylesheet" />
    <link href="css/footer-bottom.css" rel="stylesheet" />
    <link href="css/menu.css" rel="stylesheet" />
    <link href="css/blog.css" rel="stylesheet" />
    <link href="css/fonts.css" rel="stylesheet" />
    <link href="css/color.css" rel="stylesheet" />
    <script src="js/modernizr.js"></script>
</head>

<body>
    <div class="content-wrapper">
        <section id="main-content">

            <!-- Main Page Content and Sidebar -->

            <div class="row">

                <!-- Main Blog Content -->
                <div class="large-12 columns" role="content">

                    <article>

                        <h2><a href="#">Machine Design</a></h2>
                        <p class="article_pub-date">By: Debasis Parida on:
                            <time datetime="2021-02-13" pubdate="">Apr 04 2021</time>
                        </p>

                        <div class="row">
                            <div class="large-12 columns">
                               
                                <p>
                                  This week's assignement is a Team assignment to build a machine and automate it. So we planned to make a vertical plotter this week using Arduino.The vertical plotter is a kind of printer which draws by means of pens exactly in the same way a person would do with his hand it allows to draw diagrams and sketches of various kind from a vector image.</p>

                                <h4>Designing a Vertical Plotter:</h4>
                            </div>

                            <div class="large-12 columns">

                            	<b>Components required:</b>
                            	<ul>
                            		<li>Arduino UNO</li>
                            		<li>CNC shield</li>
                            		<li>NEMA 17 Stepper Motor-2</li>
                            		<li>A4988 Stepper drivers</li>
                            		<li>3D printed Gondola</li>
                            		<li>12V DC, 5 AMP Power supply</li>
                            		<li>GT2 Pully & Belt</li>

                            	</ul>

                            	<h4>CNC shield Wiring:</h4>

                            	 <img style="width: 45%; height: 45%;"class="float-left" src="assets/img/doc/week9/1.jpg" />
                            	</div>

                            	<div class="large-12 columns">

                                <p>
                                Arduino CNC shields provide an Arduino microcontroller with the power necessary to drive stepper motors and run all the other functions that contribute to a CNC machineâ€™s operation. Depending on the shield, this could include end stops, spindle speed control, and probing.In this week, we have used it to control the stepper motors in the vertical plotter.

                                First of all we need to place the CNC shield on the top of Arduino as shown below.Make sure that, the pins of CNC shield is well connected in the right way.
                                </p>

                                 <img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/2.jpeg" />
                             
                         </div>

                         <div class="large-12 columns">

                         	<p>
                                Now connect the Stepper drivers in the CNC shield. As here we need only two motors, hence we need only 2 Stepper drivers in this case.Simillarly the steppers can also be connected in the output pins as shown.After connection, the 12V DC supply is connected to the CNC shield.The complete setup is shown as below:
                                </p>

                                <img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/3.jpeg" />

                            </div>

                                 <h4>Testing Motors using GRBL Controller:</h4>

                                 <p>
                                After the successful connections, we tested the Motor rotations using GRBL Controller.To do that, first we need to download the GRBL Firmware <a href="https://s3.amazonaws.com/zyltechfile/grbl-master_1.zip">here</a>.Then follow the instructions below to upload it.
                                </p>

                                  <ul>

                                  <li>Download the GRBL source code and unzip the download and we have a folder called "grbl-master".</li>
                                  <li>Launch the Arduino IDE and find the library location.usually it is "C:/user/documents/Arduino/libraries".Open the library location.</li>
                                  <li>Paste the "grbl" folder inside the extracted folder in the Arduino library folder.Now restart the Arduino IDE.</li>
                                  <li>Open the "GrblUpload" in the Arduino example. (Click the "file" down-down menu, navigate to "Examples->Grbl", and select "GrblUpload")</li>
                                  <li>Compile the code and upload GRBL to your Arduino. </li>

                                  <img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/4.png" />

                                </ul>
                            </div>

                            <div class="large-12 columns">

                                <h3>Testing with UGS Software:</h3>
                          
                                  <p>Now, to test the Motor movements and all, there are many GRBL controllers available.Here we have used UGS(Universal G-code sender) controller software which can be downloaded from <a href="https://winder.github.io/ugs_website/download/">here</a>.Now run the application using the .exe file available in "bin" folder.</p>

                                	<img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/5.png" />
                                </div>

                                <div class="large-12 columns">

                                  	<p>After opening the software, we need to connect it giving baud rate as 115200 and COM PORT number at which Arduino is connected. After successful connection switch ON the Power supply, and click on the Navigation arrows in the Software. Now the servo motors should run.I have imported a sample gcode file of circle to test the motor which was susccessful as shown below:</p>
                                  	<video width="640" height="480" controls>
  <source src="assets/img/doc/week9/servo.mp4" type="video/mp4">
  </video>
</div>
                                  <div class="large-12 columns">
                                  	<h4>Vertical Plotter Assembly and Testing</h4>

                                    <p>Now, after testing the Motors, we have connected the Servo motor to the CNC shield at "X-" pin of the shield connected to the signal pin of Servo.It is used to for controlling the pen height in the Polargraph.</p>

                                    <p>Now we 3D printed a Gondola to hold the pen and the servo motor assembly.The readymade Gondola design is available <a href="https://www.thingiverse.com/thing:478346">here</a>.Then it is 3d printed as shown.</p>

                                    <img style="width: 45%; height: 45%;"class="float-left" src="assets/img/doc/week9/6.PNG" />
                                    <img style="width: 45%; height: 45%;"class="float-left" src="assets/img/doc/week9/7.PNG" />
       
                                  </div>

                                  <div class="large-12 columns">

                                  	<p>First we did a Setup for vertical plotter as shown below. First we used a Nylon cable as the belt as shown.</p>

                                    <img style="width: 25%; height: 25%;"class="float-left" src="assets/img/doc/week9/8.jpeg" />
                                    <img style="width: 45%; height: 45%;"class="float-left" src="assets/img/doc/week9/9.jpeg" />

                                  </div>

                                  <div class="large-12 columns">

                                  	<p>Now we have to do the software setup to run the Plotter. For that we need to download the necessary files from the link <a href="https://github.com/sibusaman/polargraph-FAB15/blob/master/files/Polargraph-2017-11-01.zip">here</a>.Then we extracted the donwloaded folder, "arduino-source" folder have the firmware source. We copied the contents of the libraries into the arduino library folder.Simillarly we copied the "polargraph_server_a1" folder into the arduino project folder</p>

                                  	<p>After the completion of above process, We need to edit some of the parameters in the source code as shown below:</p>
                                  	<ul>
                                  		<li>In the "polargraph_server_a1.ino" file, we need to uncomment #define MICROCONTROLLER MC_UNO.</li>
                                  		<li>Uncomment #define SERIAL_STEPPER_DRIVERS "polargraph_server_a1.ino" file</li>
                                  		<li>define serial speed (57600 bps by default)</li>
                                  		<li>servo pin (we used default PIN9) </li>

                                  	</ul>
                                  	<p>Now in the configuration file following edits to be made.</p>
                                  	<ul>
                                  		<li>Step and direction pins for the controller needs to be defined.<br>
                                  		#ifdef SERIAL_STEPPER_DRIVERS<br>
                                  			#define MOTOR_A_ENABLE_PIN 8<br>
                                  			#define MOTOR_A_STEP_PIN 2<br>
                                  			#define MOTOR_A_DIR_PIN 5<br>
                                  			#define MOTOR_B_ENABLE_PIN 8<br>
                                  			#define MOTOR_B_STEP_PIN 3<br>
                                  			#define MOTOR_B_DIR_PIN 6<br>
                                  			AccelStepper motorA(1,MOTOR_A_STEP_PIN, MOTOR_A_DIR_PIN);<br>
                                  			AccelStepper motorB(1,MOTOR_B_STEP_PIN, MOTOR_B_DIR_PIN); <br>
                                  		    #endif</li>

                                  	</ul>

                                  	<p>Now we have to download the GUI application where we can do all the setup and drawing functions of the plotter. First we need to download the processing application from the link <a href="https://processing.org/download/">here</a>.Now extract the downloaded file.</p>

                                  	<p>In the next step, we need to copy the contents from "processing-source" of Polargraph folder to the processing library folder.Now Run the processing application and Open the "polargraph" sketch from "sketchbook". Now run the code which will prompt a GUI as shown below.</p>

                                  	<img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/10.png" />
                                  	<img style="width: 60%; height: 60%;"class="float-left" src="assets/img/doc/week9/11.PNG" />

                                  </div>

                                   <div class="large-12 columns">

                                   	<p>In the GUI, we have to setup the parameters like Home, Machine width, Page width, Motor parameters etc.Then we have to import a SVG file into the machine and draw the vector.In the final step we have made several improvements in the design such as weight adjustement, replacing Belts in place of Nylon thread etc. The final video of the plotter is shown as below:</p>

                                   	<video width="640" height="480" controls muted>
  <source src="assets/img/doc/week9/servo2.mp4" type="video/mp4" >
  </video>

                                   </div>

                              <a href="index.html">Back to Home</a>

                        
                    </article>

                    <hr />

</body>

</html>
